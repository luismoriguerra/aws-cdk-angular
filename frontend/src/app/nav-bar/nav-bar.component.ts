import { Router } from '@angular/router';
import { Component, OnInit } from '@angular/core';
import { AuthService } from '../auth.service';

@Component({
  selector: 'app-navbar',
  templateUrl: './nav-bar.component.html',
  styleUrls: ['./nav-bar.component.scss'],
})
export class NavBarComponent implements OnInit {
  constructor(public auth: AuthService, private router: Router) {}

  ngOnInit(): void {}

  loginAndBackToPreviousPage() {
    const redirectPath = this.router.url;
    this.auth.login(redirectPath);
  }

  goToLongURL() {
    this.router.navigateByUrl(
      '/external-api?filter=%23%2Fdashboard%2FGitHub-Pull-Requests%3Fembed%3Dtrue%26_g%3D(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:%272020-12-20T05:00:00.000Z%27,to:%272020-12-31T05:00:00.000Z%27))%26_a%3D(description:%27GitHub%2520Pull%2520Requests%2520Overview%2520panel%27,filters:!((%27$state%27:(store:appState),meta:(alias:!n,controlledBy:%271591130365812%27,disabled:!f,index:github_pull_requests,key:author_name,negate:!f,params:!(%27Alex%2520Wells%27,darkhorse64),type:phrases,value:%27Alex%2520Wells,%2520darkhorse64%27),query:(bool:(minimum_should_match:1,should:!((match_phrase:(author_name:%27Alex%2520Wells%27)),(match_phrase:(author_name:darkhorse64)))))),(%27$state%27:(store:appState),meta:(alias:!n,controlledBy:%271591130547735%27,disabled:!f,index:github_pull_requests,key:author_org_name,negate:!f,params:!(%27Gentoo%2520Linux%27,%27LANCOM%2520Systems%27),type:phrases,value:%27Gentoo%2520Linux,%2520LANCOM%2520Systems%27),query:(bool:(minimum_should_match:1,should:!((match_phrase:(author_org_name:%27Gentoo%2520Linux%27)),(match_phrase:(author_org_name:%27LANCOM%2520Systems%27)))))),(%27$state%27:(store:appState),meta:(alias:!n,controlledBy:%271591130585278%27,disabled:!f,index:github_pull_requests,key:repository,negate:!f,params:(query:%27https:%252F%252Fgithub.com%252Fimageworks%252FOpenShadingLanguage%27),type:phrase),query:(match_phrase:(repository:%27https:%252F%252Fgithub.com%252Fimageworks%252FOpenShadingLanguage%27)))),fullScreenMode:!f,options:(darkTheme:!f,useMargins:!t),panels:!((embeddableConfig:(title:Summary),gridData:(h:15,i:%271%27,w:12,x:11,y:0),id:github_pullrequests_main_metrics,panelIndex:%271%27,title:Summary,type:visualization,version:%277.6.2%27),(embeddableConfig:(legendOpen:!f,title:%27Pull%2520Requests%2520by%2520Status%2520Over%2520Time%27,vis:(legendOpen:!t)),gridData:(h:12,i:%272%27,w:14,x:15,y:15),id:github_pullrequests_pullrequests,panelIndex:%272%27,title:%27Pull%2520Requests%2520by%2520Status%2520Over%2520Time%27,type:visualization,version:%277.6.2%27),(embeddableConfig:(title:%27Pull%2520Requests%2520By%2520Repositories%27,vis:(params:(sort:(columnIndex:!n,direction:!n)))),gridData:(h:18,i:%275%27,w:48,x:0,y:46),id:github_pullrequests_repositories,panelIndex:%275%27,title:%27Pull%2520Requests%2520By%2520Repositories%27,type:visualization,version:%277.6.2%27),(embeddableConfig:(title:%27Pull%2520Requests%2520By%2520Submitters%27),gridData:(h:19,i:%276%27,w:16,x:0,y:27),id:github_pullrequests_submitters,panelIndex:%276%27,title:%27Pull%2520Requests%2520By%2520Submitters%27,type:visualization,version:%277.6.2%27),(embeddableConfig:(legendOpen:!f,title:%27Submitters%2520Over%2520Time%27,vis:(legendOpen:!t)),gridData:(h:12,i:%278%27,w:15,x:0,y:15),id:github_pullrequests_submitters_evolutionary,panelIndex:%278%27,title:%27Submitters%2520Over%2520Time%27,type:visualization,version:%277.6.2%27),(embeddableConfig:(title:%27Pull%2520Requests%2520by%2520Organizations%2520Over%2520Time%27),gridData:(h:12,i:%279%27,w:19,x:29,y:15),id:github_pullrequests_organizations_author_evolutionary,panelIndex:%279%27,title:%27Pull%2520Requests%2520by%2520Organizations%2520Over%2520Time%27,type:visualization,version:%277.6.2%27),(embeddableConfig:(title:%27Pull%2520Requests%2520By%2520Organization%27),gridData:(h:15,i:%2710%27,w:13,x:35,y:0),id:github_pullrequests_organizations_author,panelIndex:%2710%27,title:%27Pull%2520Requests%2520By%2520Organization%27,type:visualization,version:%277.6.2%27),(embeddableConfig:(title:Organization),gridData:(h:19,i:%2712%27,w:32,x:16,y:27),id:%271f4ff210-740d-11e8-a4e7-6b1c6a13c58d%27,panelIndex:%2712%27,title:Organization,type:visualization,version:%277.6.2%27),(embeddableConfig:(title:Filter),gridData:(h:15,i:ca4aa069-73f8-499c-b8c5-2d64626a1759,w:11,x:0,y:0),id:c7ba3dc0-a511-11ea-83d0-e156a256d6e6,panelIndex:ca4aa069-73f8-499c-b8c5-2d64626a1759,title:Filter,type:visualization,version:%277.6.2%27),(embeddableConfig:(),gridData:(h:15,i:a0fe93e6-bd03-44d5-afc4-1bdc2fb452a7,w:12,x:23,y:0),id:fddf0ba0-29d8-11eb-b81d-a32b9537df14,panelIndex:a0fe93e6-bd03-44d5-afc4-1bdc2fb452a7,type:visualization,version:%277.6.2%27),(embeddableConfig:(),gridData:(h:18,i:%275fd445c4-cd6b-47e7-a3cc-e3081c1d90a9%27,w:48,x:0,y:64),id:%2714349570-29d7-11eb-b81d-a32b9537df14%27,panelIndex:%275fd445c4-cd6b-47e7-a3cc-e3081c1d90a9%27,type:visualization,version:%277.6.2%27)),query:(language:lucene,query:%27*%27),timeRestore:!f,title:%27GitHub%2520Pull%2520Requests%27,viewMode:view)&time=%7B%22from%22:%222020-12-20T05:00:00.000Z%22,%22type%22:%22absolute%22,%22to%22:%222020-12-31T05:00:00.000Z%22%7D'
    );
  }
}
