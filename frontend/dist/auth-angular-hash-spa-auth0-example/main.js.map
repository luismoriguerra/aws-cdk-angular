{"version":3,"sources":["./src/app/interceptor.service.ts","./src/app/nav-bar/nav-bar.component.ts","./src/app/nav-bar/nav-bar.component.html","./src/environments/environment.ts","./src/app/lfx-header.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/authCallback/authCallback.componen.ts","./src/app/authCallback/authCallback.componen.html","./src/app/profile/profile.component.ts","./src/app/profile/profile.component.html","./src/app/app.module.ts","./src/app/auth.service.ts","./src/app/external-api/external-api.component.ts","./src/app/external-api/external-api.component.html","./src/app/auth.guard.ts","./src/app/app-routing.module.ts","./src/app/api.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/**\n * updated: 2020-10-21\n * v0.0.1\n * \n */\n\nimport { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\nimport { AuthService } from './auth.service';\nimport { Observable, throwError } from 'rxjs';\nimport { mergeMap, catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class InterceptorService implements HttpInterceptor {\n  constructor(private auth: AuthService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return this.auth.getIdToken$().pipe(\n      mergeMap((token) => {\n        if (!token) {\n          return next.handle(req.clone());\n        }\n\n        const tokenReq = req.clone({\n          setHeaders: { Authorization: `Bearer ${token}` },\n        });\n        return next.handle(tokenReq);\n      }),\n      catchError((err) => throwError(err))\n    );\n  }\n}\n","import { Router } from '@angular/router';\nimport { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './nav-bar.component.html',\n  styleUrls: ['./nav-bar.component.scss'],\n})\nexport class NavBarComponent implements OnInit {\n  constructor(public auth: AuthService, private router: Router) {}\n\n  ngOnInit(): void { }\n\n  loginAndBackToPreviousPage() {\n    const redirectPath = this.router.url;\n    this.auth.login(redirectPath);\n  }\n}\n","<div *ngIf=\"auth.loading$ | async\">loading ...</div>\n<header>\n  <button (click)=\"auth.login()\" [disabled]=\"auth.loggedIn\">Log In</button>\n  <button\n    (click)=\"loginAndBackToPreviousPage()\"\n    [disabled]=\"auth.loggedIn\"\n  >\n    Log In and back to current page\n  </button>\n  <button (click)=\"auth.logout()\" [disabled]=\"!auth.loggedIn\">Log Out</button>\n  <hr />\n  <a routerLink=\"/\">Home</a>&nbsp;\n  <a routerLink=\"profile\" *ngIf=\"auth.loggedIn\">Profile</a>\n  &nbsp;<a routerLink=\"external-api\">External API</a>\n</header>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","/**\n * updated: 2020-10-26\n * v0.0.2\n * \n */\n\nimport { Injectable } from '@angular/core';\nimport { AuthService } from './auth.service';\n\n\nfunction setScript() {\n  const script = document.createElement('script');\n  script.setAttribute('src','https://cdn.dev.platform.linuxfoundation.org' + '/lfx-header.js');\n  // script.setAttribute('src','http://127.0.0.1:8080' + '/lfx-header.js');\n  script.setAttribute('async', 'true');\n  document.head.appendChild(script);\n}\n\nsetScript();\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LfxHeaderService {\n\n  constructor(private auth: AuthService) {\n    this.setUserInLFxHeader();\n    this.setCallBackUrl();\n    this.setLogoutUrl();\n  }\n\n  setCallBackUrl() {\n    console.log('entered setCallBackUrl');\n    const lfHeaderEl: any = document.getElementById('lfx-header');\n    if (!lfHeaderEl) {\n      return;\n    }\n    console.log('app setCallBackUrl ', this.auth.auth0Options.callbackUrl);\n    lfHeaderEl.callbackurl = this.auth.auth0Options.callbackUrl;\n  }\n  setLogoutUrl() {\n    const lfHeaderEl: any = document.getElementById('lfx-header');\n    if (!lfHeaderEl) {\n      return;\n    }\n    lfHeaderEl.logouturl = this.auth.auth0Options.logoutUrl;\n  }\n\n  setUserInLFxHeader(): void {\n    const lfHeaderEl: any = document.getElementById('lfx-header');\n    if (!lfHeaderEl) {\n      return;\n    }\n\n    this.auth.userProfile$.subscribe((data) => {\n      if (data) {\n        lfHeaderEl.authuser = data;\n      }\n    });\n\n  }\n}\n","import { AuthService } from './auth.service';\nimport { Component } from '@angular/core';\nimport { LfxHeaderService } from './lfx-header.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent {\n  title = 'spa-angular';\n\n  constructor(\n    private lfxheader: LfxHeaderService,\n    private auth: AuthService,\n  ) { }\n\n  requesttoken() {\n    this.auth.getTokenSilently$().subscribe((data) => {\n      console.log('data ? ', { data });\n    });\n  }\n\n  checkSession() {\n  }\n  getUser() {\n    this.auth.getUser$().subscribe((data) => {\n      console.log('getUser > data ', { data });\n    })\n  }\n}\n","\n<!--  -->\n<hr>\n<pre class=\"pre\">\n  This is your Angular app --- v2\n  <br>\n  * Please confirm you are logged in in lfx-header and your app at the same time by click on Profile link\n</pre>\n<pre class=\"pre\">\n  * There is posible you are Logged In in LFX-Header but in your app the user is still anonymous.\n  * If this the case , the auth0 implementation in the app is wrong.\n</pre>\n\n<pre class=\"pre\">\n  * Logout Action will return you to the previous page.\n  * If this page is a private , will redirect you to SSO login page.\n</pre>\n\n<pre class=\"pre\">\n  * have in mind that Loading the current User sesssion can take some seconds\n</pre>\n\n<button (click)=\"requesttoken()\"> Get token</button>\n<button (click)=\"checkSession()\"> Check session </button>\n<button (click)=\"getUser()\"> get user </button>\n\n\n<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/api.service';\n\n@Component({\n  selector: 'app-authCallback',\n  templateUrl: './authCallback.componen.html',\n})\nexport class AuthCallbackComponent implements OnInit {\n  responseJson: string;\n\n  constructor(private api: ApiService) {}\n\n  ngOnInit() {}\n\n}\n","We are loading your session","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss'],\n})\nexport class ProfileComponent implements OnInit {\n  constructor(public auth: AuthService) {}\n\n  ngOnInit() {}\n}\n","<pre *ngIf=\"auth.userProfile$ | async as profile\">\n  <code>{{ profile | json }}</code>\n  </pre>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NavBarComponent } from './nav-bar/nav-bar.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { ExternalApiComponent } from './external-api/external-api.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AuthCallbackComponent } from './authCallback/authCallback.componen';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavBarComponent,\n    ProfileComponent,\n    ExternalApiComponent,\n    AuthCallbackComponent,\n  ],\n  imports: [BrowserModule, AppRoutingModule, HttpClientModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","/**\n * updated: 2020-11-04 v0.0.8\n * \n *\n * v0.0.8 Force login on public pages if cookie exists\n *  - refactor login()\n *  - refactor construct()\n *  - refactor localAuthSetup()\n *  - added initializeApplication()\n *  - added checkUserSessionByCookie()\n * \n * v0.0.7 Last Update:\n *  Using auth0 from CDN instead of npm module\n *  please review index.html\n */\n\ndeclare let window;\n\nimport { Injectable } from '@angular/core';\nimport {\n  from,\n  of,\n  Observable,\n  BehaviorSubject,\n  combineLatest,\n  throwError,\n} from 'rxjs';\nimport { tap, catchError, concatMap, shareReplay } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport * as querystring from 'query-string';\nimport Url from 'url-parse';\n\nfunction log(text: any, value: any = {}) {\n  console.log(`> ${text}`, JSON.stringify(value, null, 2));\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  auth0Options = {\n    domain: 'linuxfoundation-dev.auth0.com',\n    clientId: 'O8sQ4Jbr3At8buVR3IkrTRlejPZFWenI',\n    callbackUrl: window.location.origin,\n    logoutUrl: window.location.origin,\n    // https://auth0.com/docs/libraries/auth0-single-page-app-sdk#get-access-token-with-no-interaction\n    // If you active useRefreshTokens: true , please update lfx-header directly too in index.html\n    // *info make sure of using `userefreshtoken=\"true\"` in  <lfx-header> element\n    useRefreshTokens: true,\n  };\n\n  currentHref = window.location.href;\n\n  loading$ = new BehaviorSubject<any>(true);\n  // Create an observable of Auth0 instance of client\n  auth0Client$ = (from(\n    window.createAuth0Client({\n      domain: this.auth0Options.domain,\n      client_id: this.auth0Options.clientId,\n      redirect_uri: this.auth0Options.callbackUrl,\n      useRefreshTokens: this.auth0Options.useRefreshTokens,\n    })\n  ) as Observable<any>).pipe(\n    shareReplay(1), // Every subscription receives the same shared value\n    catchError((err) => {\n      this.loading$.next(false);\n      return throwError(err);\n    })\n  );\n  // Define observables for SDK methods that return promises by default\n  // For each Auth0 SDK method, first ensure the client instance is ready\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\n  // from: Convert that resulting promise into an observable\n  isAuthenticated$ = this.auth0Client$.pipe(\n    concatMap((client: any) => from(client.isAuthenticated())),\n    tap((res: any) => {\n      // *info: once isAuthenticated$ responses , SSO sessiong is loaded\n      // this.loading$.next(false);\n      this.loggedIn = res;\n    })\n  );\n  handleRedirectCallback$ = this.auth0Client$.pipe(\n    concatMap((client: any) =>\n      from(client.handleRedirectCallback(this.currentHref))\n    )\n  );\n  // Create subject and public observable of user profile data\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\n  userProfile$ = this.userProfileSubject$.asObservable();\n  // Create a local property for login status\n  loggedIn = false;\n\n  constructor(private router: Router) {\n    this.initializeApplication();\n  }\n\n  async initializeApplication() {\n    // On initial load, check authentication state with authorization server\n    // Set up local auth streams if user is already authenticated\n    const params = this.currentHref;\n    if (params.includes('code=') && params.includes('state=')) {\n      this.handleAuthCallback();\n      return;\n    }\n\n    await this.localAuthSetup();\n    this.handlerReturnToAferlogout();\n  }\n\n  handlerReturnToAferlogout() {\n    const { query } = querystring.parseUrl(this.currentHref) || {};\n    const { returnTo } = query || {};\n\n    if (returnTo) {\n      const target = this.getTargetRouteFromReturnTo(returnTo);\n      this.router.navigate([target]);\n    }\n  }\n\n  // When calling, options can be passed if desired\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\n  getUser$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      concatMap((client: any) => from(client.getUser(options))),\n      tap((user) => {\n        this.userProfileSubject$.next(user);\n      })\n    );\n  }\n\n  checkSession() {\n    return this.auth0Client$.pipe(\n      concatMap((client) => from(client.checkSession()))\n    );\n  }\n\n  private async localAuthSetup() {\n    // This should only be called on app initialization\n    // Set up local authentication streams\n    const checkAuth$ = this.isAuthenticated$.pipe(\n      concatMap((loggedIn: boolean) => {\n        if (loggedIn) {\n          // If authenticated, get user and set in app\n          // NOTE: you could pass options here if needed\n          this.loading$.next(false);\n          return this.getUser$();\n        }\n        this.auth0Client$\n          .pipe(\n            // https://auth0.com/docs/libraries/auth0-single-page-app-sdk#get-access-token-with-no-interaction\n            // *info: Allow check user session in public pages to avoid redirecting to login page\n            concatMap((client: any) => from(client.getTokenSilently({ ignoreCache: true }))),\n            concatMap(() => this.getUser$()),\n            concatMap((user) => {\n              if (user) {\n                return this.isAuthenticated$;\n              }\n              return of(null);\n            }),\n            catchError((error) => {\n              // *info: by pass error, no needed, it is login_required\n              this.checkUserSessionByCookie();\n              return of(null);\n            })\n          )\n          .subscribe(() => {\n            this.loading$.next(false);\n          });\n        // If not authenticated, return stream that emits 'false'\n        return of(loggedIn);\n      })\n    );\n    checkAuth$.subscribe();\n  }\n\n  checkUserSessionByCookie() {\n    const cookieName = `auth-${this.auth0Options.domain}`;\n    const cookieExists = this.getCookie(cookieName);\n    if (cookieExists) {\n      log('cookieExists > ', { cookieExists });\n      this.login();\n      return;\n    }\n\n    log('cookie dont exists ... ');\n  }\n\n  getCookie(cname) {\n    const name = cname + '=';\n    const decodedCookie = decodeURIComponent(document.cookie);\n    const ca = decodedCookie.split(';');\n\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return '';\n  }\n\n  private getTargetRouteFromAppState(appState) {\n    if (!appState) {\n      return '/';\n    }\n\n    const { returnTo, target, targetUrl } = appState;\n\n    return (\n      this.getTargetRouteFromReturnTo(returnTo) || target || targetUrl || '/'\n    );\n  }\n\n  private getTargetRouteFromReturnTo(returnTo) {\n    if (!returnTo) {\n      return '';\n    }\n\n    const { fragmentIdentifier } = querystring.parseUrl(returnTo, {\n      parseFragmentIdentifier: true,\n    });\n\n    if (fragmentIdentifier) {\n      return fragmentIdentifier;\n    }\n\n    const { pathname } = new Url(returnTo);\n    return pathname || '/';\n  }\n\n  private handleAuthCallback() {\n    // Call when app reloads after user logs in with Auth0\n    const params = this.currentHref;\n\n    if (params.includes('code=') && params.includes('state=')) {\n      let targetRoute = '/'; // Path to redirect to after login processsed\n      const authComplete$ = this.handleRedirectCallback$.pipe(\n        // Have client, now call method to handle auth callback redirect\n        tap((cbRes: any) => {\n          log('handleAuthCallback > cbres', { cbRes });\n          targetRoute = this.getTargetRouteFromAppState(cbRes.appState);\n          log('handleAuthCallback > targetRoute ? ', { targetRoute });\n        }),\n        concatMap(() => {\n          // Redirect callback complete; get user and login status\n          return combineLatest([this.getUser$(), this.isAuthenticated$]);\n        })\n      );\n      // Subscribe to authentication completion observable\n      // Response will be an array of user and login status\n      authComplete$.subscribe(() => {\n        // Redirect to target route after callback processing\n        // *info: this url change will remove the code and state from the URL\n        // * this is need to avoid invalid state in the next refresh\n        this.loading$.next(false);\n        log('authComplete$.subscribe > ', { targetRoute });\n        this.router.navigate([targetRoute]);\n      });\n    }\n  }\n\n  login(redirectPath: string = '/') {\n    // A desired redirect path can be passed to login method\n    // (e.g., from a route guard)\n    // Ensure Auth0 client instance exists\n    const redirectUri = `${this.auth0Options.callbackUrl}${window.location.search}`;\n    this.auth0Client$.subscribe((client: any) => {\n      // Call method to log in\n      const request = {\n        redirect_uri: redirectUri,\n        appState: { returnTo: this.currentHref },\n      };\n\n      log('request', { request });\n\n      client.loginWithRedirect(request);\n    });\n  }\n\n  logout() {\n    const { query, fragmentIdentifier } = querystring.parseUrl(\n      window.location.href,\n      { parseFragmentIdentifier: true }\n    );\n\n    const qs = {\n      ...query,\n      returnTo: window.location.href,\n    };\n\n    const searchStr = querystring.stringify(qs);\n    const searchPart = searchStr ? `?${searchStr}` : '';\n\n    const fragmentPart = fragmentIdentifier ? `#${fragmentIdentifier}` : '';\n\n    const logoutUrl = this.auth0Options.logoutUrl;\n\n    const request = {\n      client_id: this.auth0Options.clientId,\n      returnTo: `${logoutUrl}${searchPart}${fragmentPart}`,\n    };\n\n    this.auth0Client$.subscribe((client: any) => client.logout(request));\n  }\n\n  getTokenSilently$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      concatMap((client: any) => from(client.getTokenSilently({ ignoreCache: true })))\n    );\n  }\n\n  getIdToken$(options?): Observable<any> {\n    return this.auth0Client$.pipe(\n      // *info: if getIdToken fails , just return empty in the catchError\n      concatMap((client: any) => from(client.getIdTokenClaims(options))),\n      concatMap((claims: any) => of((claims && claims.__raw) || '')),\n      catchError(() => of(''))\n    );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/api.service';\n\n@Component({\n  selector: 'app-external-api',\n  templateUrl: './external-api.component.html',\n  styleUrls: ['./external-api.component.scss'],\n})\nexport class ExternalApiComponent implements OnInit {\n  responseJson: string;\n\n  constructor(private api: ApiService) {}\n\n  ngOnInit() {}\n\n  pingApi() {\n    this.api.ping$().subscribe((res) => (this.responseJson = res));\n  }\n}\n","<button (click)=\"pingApi()\">Ping API</button>\n\n<pre *ngIf=\"responseJson\">\n  <code>{{ responseJson | json }}</code>\n</pre>\n\n<pre class=\"pre\">\n  * Please , Open developer tools >> Network tab , and review the request's headers \n</pre>","/**\n * updated: 2020-10-21\n * v0.0.1\n * \n */\n\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, CanActivate } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './auth.service';\nimport { tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  constructor(private auth: AuthService) {}\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean> | Promise<boolean | UrlTree> | boolean {\n    return this.auth.isAuthenticated$.pipe(\n      tap((loggedIn) => {\n        if (!loggedIn) {\n          this.auth.login(state.url);\n        }\n      })\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProfileComponent } from './profile/profile.component';\nimport { AuthGuard } from './auth.guard';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { InterceptorService } from './interceptor.service';\nimport { ExternalApiComponent } from './external-api/external-api.component';\nimport { AuthCallbackComponent } from './authCallback/authCallback.componen';\n\nconst routes: Routes = [\n  {\n    path: 'profile',\n    component: ProfileComponent,\n    canActivate: [AuthGuard],\n  },\n  {\n    path: 'external-api',\n    component: ExternalApiComponent,\n  },\n  {\n    path: 'auth',\n    component: AuthCallbackComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { useHash: false })],\n  exports: [RouterModule],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: InterceptorService,\n      multi: true,\n    },\n  ],\n})\nexport class AppRoutingModule {}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApiService {\n  constructor(private http: HttpClient) {}\n\n  ping$(): Observable<any> {\n    return this.http.get('/api/external');\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}